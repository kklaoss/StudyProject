#include <iostream>  // Подключение библиотеки для работы с вводом и выводом
#include <fstream>   // Подключение библиотеки для работы с файлами
#include <string>    // Подключение библиотеки для работы со строками
#include <vector>    // Подключение библиотеки для работы с векторами (динамическими массивами)
int main()
{
	setlocale(LC_ALL, "RU");  // Установка локали для поддержки кириллицы в консоли
	std::string input;  // Объявление переменной для хранения введённой пользователем строки
	std::cout << "Введите символы: ";  // Вывод приглашения для ввода символов
	getline(std::cin, input);  // Считывание введённой строки с клавиатуры
	std::ofstream out_file("data.dat", std::ios::binary);  // Создание объекта для записи в файл "data.dat" в бинарном режиме
	out_file.write(input.c_str(), input.size());  // Запись введённой строки в файл как бинарных данных
	out_file.close();  // Закрытие файла после записи
	std::cout << "\nДо преобразования: ";  // Вывод сообщения перед отображением данных до преобразования
	std::ifstream in_file("data.dat", std::ios::binary);  // Создание объекта для чтения из файла "data.dat" в бинарном режиме
	char ch;  // Объявление переменной для хранения одного символа из файла
	std::vector<int> codes;  // Объявление вектора для хранения кодов символов
	while (in_file >> ch)  // Чтение символов из файла по одному
	{
		std::cout << ch << " ";  // Вывод текущего символа на экран
		codes.push_back(static_cast<unsigned char>(ch));  // Преобразование символа в его числовой код и добавление в вектор
	}
	in_file.close();  // Закрытие файла после чтения
	out_file.open("data.dat", std::ios::binary);  // Открытие файла "data.dat" для записи в бинарном режиме
	for (int code : codes)  // Цикл по всем элементам вектора с кодами символов
	{
		out_file.write((char*)&code, sizeof(int));  // Запись числового кода символа в файл как бинарных данных
	}
	out_file.close();  // Закрытие файла после записи
	std::cout << "\nПосле преобразования: ";  // Вывод сообщения перед отображением данных после преобразования
	in_file.open("data.dat", std::ios::binary);  // Открытие файла "data.dat" для чтения в бинарном режиме
	int code;  // Объявление переменной для хранения числового кода символа
	while (in_file.read((char*)&code, sizeof(int)))  // Чтение числовых кодов символов из файла
	{
		std::cout << code << " ";  // Вывод числового кода символа на экран
	}
	std::cout << std::endl;  // Переход на новую строку после вывода всех кодов
}